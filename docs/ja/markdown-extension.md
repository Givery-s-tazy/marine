# マークダウンの拡張
Book, Quiz, Challengeともにマークダウン部分のHTML変換には[marked](https://github.com/markedjs/marked)をベースとした独自拡張を使用しています。(CSSはそれぞれで少し異なりますが、HTMLへの変換部分はすべて同じです。)

以下ではマークダウンで使用可能な拡張について説明します。

#### 画像に対してCSSを指定する
マークダウン記法では画像の幅を指定することができませんが、trackでは独自拡張により画像に対して任意のCSSを指定することができます。
(この方法で`width`が明示されない場合は、デフォルトでは参照された画像は`width:100%`で描画されます。)

画像に対してCSSを指定する場合は画像URLの後ろに空白を挟んで`""`で括って指定します。

```
![画像1](images/image1.png "width:100px;border:1px solid #FFF;")
```

マークダウン仕様では最後の`""`で括られた部分は画像の`title`属性とされています。
しかし、実際には先頭の`[]`の部分で`alt`属性が指定されているため、ほとんど使用されることはありません。

trackではこの部分を画像の`title`ではなく`style`属性にそのままマッピングしています。

### コードブロック
通常のマークダウン同様3つ以上のバッククォート(\`)を使ってコードブロックを記述することができます。
コードブロックでは自動的にシンタックスハイライトされますが、開始のバッククォートの後ろに言語名を記述することで言語を明示することができます。

言語指定の拡張として、言語名に`plain`を指定することでシンタックスハイライトを無効化できます。  
また、言語名に`math`を指定した場合、次節で紹介する数式が使用できます。

``````
```
// 言語未指定のコードブロック。汎用的なハイライトが適用されます。
var a = 1;
```

``` javascript
// 言語を明示したコードブロック
var a = 1;
```

``` plain
// シンタックスハイライトを無効化
var a = 1;
```

``` math
// 数式を有効化
\(2 \le k \le 8\)
```

``````

### 数式サポート(Katex)
Markdown中で[Katex](https://katex.org/)を使用することができます。
Katexの文法についてはKatexのドキュメントを参照してください。

(注意) 
Katexの括り文字にはコードブロックでは`\( 〜 \)`を、それ以外の部分では`\\( 〜 \\)`を使用してください。  
(コードブロック内ではエスケープ不要なのでバックスラッシュは１つとなります。)

`$`はデフォルトの穴埋めの指定文字となっているため使用できません。
